document.getElementById('employeeLoginForm').addEventListener('submit', async function(e) {
  e.preventDefault();
  const formData = new FormData(this);
  const data = Object.fromEntries(formData);

  const res = await fetch('/.netlify/functions/login', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(data)
  });

  const result = await res.json();
  if (result.success) {
    alert(`Welcome, ${result.user.name}! Role: ${result.user.role}`);
  } else {
    alert('Login failed. Check credentials.');
  }
});